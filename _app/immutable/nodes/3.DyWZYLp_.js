import{s as Oe,n as pe,c as Ne,r as Ae,d as ae}from"../chunks/scheduler.Bn0l3NzI.js";import{S as Se,i as je,e as u,t as F,s as S,c as f,a as k,b as G,d,f as j,l as i,g as X,h as o,j as Z,k as $,z as oe,A as se,B as ee,C as De,m as ne}from"../chunks/index.CK070yEj.js";import{e as re}from"../chunks/each.D6YF6ztN.js";import{p as Ee}from"../chunks/stores.D2T4ezNM.js";const He=!1,Re=Object.freeze(Object.defineProperty({__proto__:null,prerender:He},Symbol.toStringTag,{value:"Module"})),Ve="https://pokeapi.co/api/v2/";async function Le(){return(await(await fetch(Ve+"pokemon?limit=151&offset=0")).json()).results}async function Me(l){return await(await fetch(Ve+"pokemon/"+l)).json()}function we(l,t,a){const e=l.slice();return e[24]=t[a],e[26]=a,e}function Pe(l,t,a){const e=l.slice();return e[24]=t[a],e}function qe(l){let t,a=re(l[2]),e=[];for(let s=0;s<a.length;s+=1)e[s]=Ce(Pe(l,a,s));return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ne()},l(s){for(let n=0;n<e.length;n+=1)e[n].l(s);t=ne()},m(s,n){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(s,n);X(s,t,n)},p(s,n){if(n&100){a=re(s[2]);let r;for(r=0;r<a.length;r+=1){const h=Pe(s,a,r);e[r]?e[r].p(h,n):(e[r]=Ce(h),e[r].c(),e[r].m(t.parentNode,t))}for(;r<e.length;r+=1)e[r].d(1);e.length=a.length}},d(s){s&&d(t),De(e,s)}}}function Be(l){let t,a="Loading...";return{c(){t=u("p"),t.textContent=a},l(e){t=f(e,"P",{"data-svelte-h":!0}),$(t)!=="svelte-qdsr2u"&&(t.textContent=a)},m(e,s){X(e,t,s)},p:pe,d(e){e&&d(t)}}}function xe(l){let t,a,e="X",s,n,r,h,D,p,g,w,m,N=l[6].name+"",A,P,I,x,V,B=l[6].types[0].type.name+"",c,C,E,T,y,q=l[6].stats[1].base_stat+"",H,v,O,M,z,J=l[6].stats[2].base_stat+"",Q,L,b,U,_,K=l[6].stats[0].base_stat+"",te,le,he;return{c(){t=u("div"),a=u("button"),a.textContent=e,s=S(),n=u("div"),r=u("img"),D=S(),p=u("div"),g=u("div"),w=F("NAME: "),m=u("p"),A=F(N),P=S(),I=u("div"),x=F("TYPE: "),V=u("p"),c=F(B),C=S(),E=u("div"),T=F("ATTACK: "),y=u("p"),H=F(q),v=S(),O=u("div"),M=F("DEFENCE: "),z=u("p"),Q=F(J),L=S(),b=u("div"),U=F("HEALTH POINTS: "),_=u("p"),te=F(K),this.h()},l(R){t=f(R,"DIV",{class:!0});var Y=k(t);a=f(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),$(a)!=="svelte-1jzd9e1"&&(a.textContent=e),s=j(Y),n=f(Y,"DIV",{class:!0});var me=k(n);r=f(me,"IMG",{src:!0,alt:!0,class:!0}),me.forEach(d),D=j(Y),p=f(Y,"DIV",{class:!0});var W=k(p);g=f(W,"DIV",{class:!0});var ie=k(g);w=G(ie,"NAME: "),m=f(ie,"P",{class:!0});var _e=k(m);A=G(_e,N),_e.forEach(d),ie.forEach(d),P=j(W),I=f(W,"DIV",{class:!0});var ce=k(I);x=G(ce,"TYPE: "),V=f(ce,"P",{class:!0});var ve=k(V);c=G(ve,B),ve.forEach(d),ce.forEach(d),C=j(W),E=f(W,"DIV",{class:!0});var ue=k(E);T=G(ue,"ATTACK: "),y=f(ue,"P",{class:!0});var be=k(y);H=G(be,q),be.forEach(d),ue.forEach(d),v=j(W),O=f(W,"DIV",{class:!0});var fe=k(O);M=G(fe,"DEFENCE: "),z=f(fe,"P",{class:!0});var ge=k(z);Q=G(ge,J),ge.forEach(d),fe.forEach(d),L=j(W),b=f(W,"DIV",{class:!0});var de=k(b);U=G(de,"HEALTH POINTS: "),_=f(de,"P",{class:!0});var ke=k(_);te=G(ke,K),ke.forEach(d),de.forEach(d),W.forEach(d),Y.forEach(d),this.h()},h(){i(a,"class","btn btn-xs absolute right-2 top-2"),ae(r.src,h=l[6].sprites.front_default)||i(r,"src",h),i(r,"alt","Pokemon"),i(r,"class","w-60 h-60 mx-auto my-auto"),i(n,"class","w-[60%]"),i(m,"class","text-white"),i(g,"class","mt-1 ml-5 text-info text-start"),i(V,"class","text-white"),i(I,"class","mt-1 ml-5 text-info text-start"),i(y,"class","text-white"),i(E,"class","mt-1 ml-5 text-info text-start"),i(z,"class","text-white"),i(O,"class","mt-1 ml-5 text-info text-start"),i(_,"class","text-white"),i(b,"class","mt-1 ml-5 text-info text-start"),i(p,"class","ml-3 mr-3 mt-2 w-[40%] border-l-[1px] border-black"),i(t,"class","modal-box flex justify-between")},m(R,Y){X(R,t,Y),o(t,a),o(t,s),o(t,n),o(n,r),o(t,D),o(t,p),o(p,g),o(g,w),o(g,m),o(m,A),o(p,P),o(p,I),o(I,x),o(I,V),o(V,c),o(p,C),o(p,E),o(E,T),o(E,y),o(y,H),o(p,v),o(p,O),o(O,M),o(O,z),o(z,Q),o(p,L),o(p,b),o(b,U),o(b,_),o(_,te),le||(he=ee(a,"click",l[14]),le=!0)},p(R,Y){Y&64&&!ae(r.src,h=R[6].sprites.front_default)&&i(r,"src",h),Y&64&&N!==(N=R[6].name+"")&&Z(A,N),Y&64&&B!==(B=R[6].types[0].type.name+"")&&Z(c,B),Y&64&&q!==(q=R[6].stats[1].base_stat+"")&&Z(H,q),Y&64&&J!==(J=R[6].stats[2].base_stat+"")&&Z(Q,J),Y&64&&K!==(K=R[6].stats[0].base_stat+"")&&Z(te,K)},d(R){R&&d(t),le=!1,he()}}}function Ce(l){let t,a,e,s,n,r,h,D=l[24].name+"",p,g,w,m=l[24].types[0].type.name+"",N,A,P,I,x,V;function B(){return l[13](l[24])}let c=l[6]&&xe(l);return{c(){t=u("div"),a=u("div"),e=u("div"),s=u("img"),r=S(),h=u("h2"),p=F(D),g=S(),w=u("p"),N=F(m),A=S(),P=u("dialog"),c&&c.c(),I=S(),this.h()},l(C){t=f(C,"DIV",{class:!0});var E=k(t);a=f(E,"DIV",{class:!0});var T=k(a);e=f(T,"DIV",{class:!0});var y=k(e);s=f(y,"IMG",{src:!0,alt:!0,class:!0}),r=j(y),h=f(y,"H2",{class:!0});var q=k(h);p=G(q,D),q.forEach(d),g=j(y),w=f(y,"P",{class:!0});var H=k(w);N=G(H,m),H.forEach(d),y.forEach(d),T.forEach(d),E.forEach(d),A=j(C),P=f(C,"DIALOG",{class:!0});var v=k(P);c&&c.l(v),I=j(v),v.forEach(d),this.h()},h(){ae(s.src,n=l[24].sprites.front_default)||i(s,"src",n),i(s,"alt","Pokemon"),i(s,"class","w-32 h-32 mx-auto"),i(h,"class","text-white text-2xl font-bold"),i(w,"class","text-info"),i(e,"class","text-center"),i(a,"class","card-body"),i(t,"class","card bg-slate-700 m-4 shadow-lg shadow-blue-900 hover:bg-slate-600 cursor-pointer"),i(P,"class","modal min-w-fit"),oe(P,"modal-open",l[5])},m(C,E){X(C,t,E),o(t,a),o(a,e),o(e,s),o(e,r),o(e,h),o(h,p),o(e,g),o(e,w),o(w,N),X(C,A,E),X(C,P,E),c&&c.m(P,null),o(P,I),x||(V=ee(t,"click",B),x=!0)},p(C,E){l=C,E&4&&!ae(s.src,n=l[24].sprites.front_default)&&i(s,"src",n),E&4&&D!==(D=l[24].name+"")&&Z(p,D),E&4&&m!==(m=l[24].types[0].type.name+"")&&Z(N,m),l[6]?c?c.p(l,E):(c=xe(l),c.c(),c.m(P,I)):c&&(c.d(1),c=null),E&32&&oe(P,"modal-open",l[5])},d(C){C&&(d(t),d(A),d(P)),c&&c.d(),x=!1,V()}}}function Ie(l){let t,a="Edit Page",e,s,n,r,h="X",D,p,g="Edit Your PokePage",w,m,N="Here you can make edits to your page, such as description or pokemon selected.",A,P,I="Edit your description",x,V,B,c,C="Select your pokemon",E,T,y,q,H,v="Save Edits",O,M,z,J,Q=re(l[1]),L=[];for(let b=0;b<Q.length;b+=1)L[b]=Te(we(l,Q,b));return{c(){t=u("button"),t.textContent=a,e=S(),s=u("dialog"),n=u("div"),r=u("button"),r.textContent=h,D=S(),p=u("h3"),p.textContent=g,w=S(),m=u("p"),m.textContent=N,A=S(),P=u("p"),P.textContent=I,x=S(),V=u("textarea"),B=S(),c=u("p"),c.textContent=C,E=S(),T=u("div"),y=u("input"),q=S(),H=u("button"),H.textContent=v,O=S(),M=u("div");for(let b=0;b<L.length;b+=1)L[b].c();this.h()},l(b){t=f(b,"BUTTON",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-18s12xk"&&(t.textContent=a),e=j(b),s=f(b,"DIALOG",{class:!0});var U=k(s);n=f(U,"DIV",{class:!0});var _=k(n);r=f(_,"BUTTON",{class:!0,"data-svelte-h":!0}),$(r)!=="svelte-jchefy"&&(r.textContent=h),D=j(_),p=f(_,"H3",{class:!0,"data-svelte-h":!0}),$(p)!=="svelte-wt989y"&&(p.textContent=g),w=j(_),m=f(_,"P",{class:!0,"data-svelte-h":!0}),$(m)!=="svelte-uy6q1u"&&(m.textContent=N),A=j(_),P=f(_,"P",{class:!0,"data-svelte-h":!0}),$(P)!=="svelte-dx9vp6"&&(P.textContent=I),x=j(_),V=f(_,"TEXTAREA",{class:!0}),k(V).forEach(d),B=j(_),c=f(_,"P",{class:!0,"data-svelte-h":!0}),$(c)!=="svelte-19rc207"&&(c.textContent=C),E=j(_),T=f(_,"DIV",{class:!0});var K=k(T);y=f(K,"INPUT",{type:!0,class:!0,placeholder:!0}),q=j(K),H=f(K,"BUTTON",{class:!0,"data-svelte-h":!0}),$(H)!=="svelte-adty40"&&(H.textContent=v),K.forEach(d),O=j(_),M=f(_,"DIV",{class:!0});var te=k(M);for(let le=0;le<L.length;le+=1)L[le].l(te);te.forEach(d),_.forEach(d),U.forEach(d),this.h()},h(){i(t,"class","btn btn-info mt-5"),i(r,"class","btn btn-xs absolute right-2 top-2"),i(p,"class","mt-2"),i(m,"class","text-xs text-[#88898a] mt-2"),i(P,"class","text-white p-2"),i(V,"class","textarea textarea-bordered textarea-lg w-full max-w-md h-[300px]"),i(c,"class","text-white p-2"),i(y,"type","text"),i(y,"class","input input-bordered w-full"),i(y,"placeholder","Search for a pokemon!"),i(H,"class","btn btn-success mt-5 w-[200px]"),i(T,"class","col-span-3"),i(M,"class","grid grid-cols-3 overflow-y-scroll max-h-[600px] m-3"),i(n,"class","modal-box"),i(s,"class","modal min-w-lg max-sm:mt-10"),oe(s,"modal-open",l[4])},m(b,U){X(b,t,U),X(b,e,U),X(b,s,U),o(s,n),o(n,r),o(n,D),o(n,p),o(n,w),o(n,m),o(n,A),o(n,P),o(n,x),o(n,V),se(V,l[3].description),o(n,B),o(n,c),o(n,E),o(n,T),o(T,y),se(y,l[7]),o(T,q),o(T,H),o(n,O),o(n,M);for(let _=0;_<L.length;_+=1)L[_]&&L[_].m(M,null);z||(J=[ee(t,"click",l[15]),ee(r,"click",l[16]),ee(V,"input",l[17]),ee(y,"input",l[18]),ee(H,"click",l[19])],z=!0)},p(b,U){if(U&8&&se(V,b[3].description),U&128&&y.value!==b[7]&&se(y,b[7]),U&1162){Q=re(b[1]);let _;for(_=0;_<Q.length;_+=1){const K=we(b,Q,_);L[_]?L[_].p(K,U):(L[_]=Te(K),L[_].c(),L[_].m(M,null))}for(;_<L.length;_+=1)L[_].d(1);L.length=Q.length}U&16&&oe(s,"modal-open",b[4])},d(b){b&&(d(t),d(e),d(s)),De(L,b),z=!1,Ae(J)}}}function ye(l){let t,a,e,s=l[24].name+"",n,r,h,D,p;function g(){return l[20](l[26])}return{c(){t=u("button"),a=u("div"),e=u("h2"),n=F(s),r=S(),this.h()},l(w){t=f(w,"BUTTON",{class:!0});var m=k(t);a=f(m,"DIV",{class:!0});var N=k(a);e=f(N,"H2",{class:!0});var A=k(e);n=G(A,s),A.forEach(d),N.forEach(d),r=j(m),m.forEach(d),this.h()},h(){i(e,"class","text-white text-xl max-sm:text-sm"),i(a,"class","text-center"),i(t,"class",h="card bg-slate-700 h-12 p-1 m-1 justify-center items-center "+(l[3].pokemon_ids.includes(l[26]+1)?"border-2 border-blue-600":""))},m(w,m){X(w,t,m),o(t,a),o(a,e),o(e,n),o(t,r),D||(p=ee(t,"click",g),D=!0)},p(w,m){l=w,m&2&&s!==(s=l[24].name+"")&&Z(n,s),m&8&&h!==(h="card bg-slate-700 h-12 p-1 m-1 justify-center items-center "+(l[3].pokemon_ids.includes(l[26]+1)?"border-2 border-blue-600":""))&&i(t,"class",h)},d(w){w&&d(t),D=!1,p()}}}function Te(l){let t=l[24].name.includes(l[7]),a,e=t&&ye(l);return{c(){e&&e.c(),a=ne()},l(s){e&&e.l(s),a=ne()},m(s,n){e&&e.m(s,n),X(s,a,n)},p(s,n){n&130&&(t=s[24].name.includes(s[7])),t?e?e.p(s,n):(e=ye(s),e.c(),e.m(a.parentNode,a)):e&&(e.d(1),e=null)},d(s){s&&d(a),e&&e.d(s)}}}function Ue(l){var V,B;let t,a,e,s,n,r,h,D,p=l[3].description+"",g,w,m,N;function A(c,C){return c[2]===void 0?Be:qe}let P=A(l),I=P(l),x=l[8]==((B=(V=l[0])==null?void 0:V.user)==null?void 0:B.email)&&Ie(l);return{c(){t=u("div"),a=u("div"),e=u("div"),s=u("h1"),n=F(l[8]),r=F("'s Page"),h=S(),D=u("p"),g=F(p),w=S(),m=u("div"),I.c(),N=S(),x&&x.c(),this.h()},l(c){t=f(c,"DIV",{class:!0});var C=k(t);a=f(C,"DIV",{class:!0});var E=k(a);e=f(E,"DIV",{class:!0});var T=k(e);s=f(T,"H1",{class:!0});var y=k(s);n=G(y,l[8]),r=G(y,"'s Page"),y.forEach(d),h=j(T),D=f(T,"P",{class:!0});var q=k(D);g=G(q,p),q.forEach(d),w=j(T),m=f(T,"DIV",{class:!0});var H=k(m);I.l(H),H.forEach(d),N=j(T),x&&x.l(T),T.forEach(d),E.forEach(d),C.forEach(d),this.h()},h(){i(s,"class","text-white font-bold sm:text-3xl max-sm:text-2xl"),i(D,"class","py-3 max-w-md mx-auto"),i(m,"class","grid grid-cols-3 max-sm:grid-cols-1"),i(e,"class","max-w-2xl text-center pt-20"),i(a,"class","hero-content"),i(t,"class","hero min-h-screen bg-base-300")},m(c,C){X(c,t,C),o(t,a),o(a,e),o(e,s),o(s,n),o(s,r),o(e,h),o(e,D),o(D,g),o(e,w),o(e,m),I.m(m,null),o(e,N),x&&x.m(e,null)},p(c,[C]){var E,T;C&256&&Z(n,c[8]),C&8&&p!==(p=c[3].description+"")&&Z(g,p),P===(P=A(c))&&I?I.p(c,C):(I.d(1),I=P(c),I&&(I.c(),I.m(m,null))),c[8]==((T=(E=c[0])==null?void 0:E.user)==null?void 0:T.email)?x?x.p(c,C):(x=Ie(c),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},i:pe,o:pe,d(c){c&&d(t),I.d(),x&&x.d()}}}function Fe(l,t,a){let e,s;Ne(l,Ee,v=>a(12,s=v));let{data:n}=t,{supabase:r,session:h}=n,D=[],p=[],g={description:"This is your description, feel free to write about yourself or your favorite Pokemon.",pokemon_ids:[1,2,3]},w=!1,m=!1,N=null,A="";async function P(){a(2,p=[]),g.pokemon_ids.map(async v=>{const O=await Me(v.toString());p===void 0?a(2,p=[O]):a(2,p=[...p,O])})}async function I(){var M,z,J;const{data:v,error:O}=await r.from("profiles").select("*").eq("email",e);(v==null?void 0:v.length)===0?await r.from("profiles").insert({...g,user_id:(M=h==null?void 0:h.user)==null?void 0:M.id,email:(z=h==null?void 0:h.user)==null?void 0:z.email}):await r.from("profiles").update(g).eq("user_id",(J=h==null?void 0:h.user)==null?void 0:J.id)}Ee.subscribe(async()=>{var M;a(1,D=await Le());const{data:v,error:O}=await r.from("profiles").select("description, pokemon_ids").eq("email",e);(v==null?void 0:v.length)==0&&e==((M=h==null?void 0:h.user)==null?void 0:M.email)?(console.log("SAVE PROFILE"),await I()):v!=null&&v.length>0?a(3,g=v[0]):(console.log("NO PROFILE"),a(3,g={description:"This user does not have a profile yet!",pokemon_ids:[]})),await P()});async function x(){await I(),await P(),a(4,w=!1)}async function V(v){let O=g.pokemon_ids;if(O.length>=3&&!O.includes(v)){alert("You can only have 3 pokemon maximum!");return}if(O.includes(v)){let M=O.indexOf(v);O.splice(M,1)}else O.push(v);a(3,g.pokemon_ids=[...O],g)}const B=v=>{a(6,N=v),a(5,m=!0)},c=()=>a(5,m=!1),C=()=>a(4,w=!0),E=()=>a(4,w=!1);function T(){g.description=this.value,a(3,g)}function y(){A=this.value,a(7,A)}const q=()=>x(),H=v=>V(v+1);return l.$$set=v=>{"data"in v&&a(11,n=v.data)},l.$$.update=()=>{l.$$.dirty&2048&&a(0,{supabase:r,session:h}=n,h),l.$$.dirty&4096&&a(8,e=s.params.email)},[h,D,p,g,w,m,N,A,e,x,V,n,s,B,c,C,E,T,y,q,H]}class Xe extends Se{constructor(t){super(),je(this,t,Fe,Ue,Oe,{data:11})}}export{Xe as component,Re as universal};
